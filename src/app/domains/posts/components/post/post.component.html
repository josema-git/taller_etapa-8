<div
    class="block w-screen p-6 bg-white border border-gray-200 rounded-lg shadow-sm hover:bg-gray-100 dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700">
    <div class="flex items-center justify-between">
        <h5 class="mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white">{{post().title}}</h5>
        <div class="flex items-evenly gap-4">
            <strong class="text-gray-900 text-sm bg-gray-400 p-1 rounded-xl">{{post().team}}</strong>
            <p class="text-sm text-gray-900">{{post().author}}</p>
            <p class="text-sm text-gray-900">{{post().created_at | date:'M/d/yy h:mm' }}</p>
        </div>
    </div>
    <p class="font-normal text-gray-700">{{post().excerpt}}</p>
    <div class="flex items-center justify-between mt-4">
        <div class="flex items-center gap-10">
            <div (click)="getLikes(); togglePopup()" class="flex relative items-center gap-2">
                <p>{{post().likes}} Likes</p>
                <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 ml-2 -mr-1 relative"
                    viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                    <path fill-rule="evenodd"
                        d="M6.293 9.293a1 1 0 011.414 0L10 11.586l2.293-2.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"
                        clip-rule="evenodd" />
                </svg>
                @if (openPopup()) {
                <div 
                    class="origin-left absolute left-3/5 top-6 w-auto shadow-xl bg-white ">
                    <div class="py-2 p-2">
                        @for( like of likes(); track like.id){
                        <app-like [like]="like" />
                        }
                    </div>
                </div>

                }

            </div>
            <p>{{post().comments}} Comments</p>
        </div>
        <div class="flex items-center gap-2" [hidden]="post().permission_level < 2">
            <button type='button' 
                [class.text-green-500]="post().is_liked" 
                [class.hover:text-white]="post().is_liked"
                (click)="toggleLike()"
                class="text-gray-700 bg-neutral-100 w-10 h-10 hover:text-green-500 font-medium rounded-full text-sm p-2.5 flex ">
                <svg class="w-50" aria-hidden="true" fill="currentColor" viewBox="0 0 18 18">
                    <path
                        d="M3 7H1a1 1 0 0 0-1 1v8a2 2 0 0 0 4 0V8a1 1 0 0 0-1-1Zm12.954 0H12l1.558-4.5a1.778 1.778 0 0 0-3.331-1.06A24.859 24.859 0 0 1 6 6.8v9.586h.114C8.223 16.969 11.015 18 13.6 18c1.4 0 1.592-.526 1.88-1.317l2.354-7A2 2 0 0 0 15.954 7Z" />
                </svg>
                <span class="sr-only">Like post</span>
            </button>
            <button type='button'
                class=" text-gray-700 w-10 h-10 hover:bg-gray-700 hover:text-white font-medium rounded-full text-sm py-1 pl-1.5 pr-1 ">
                <svg version="1.1" viewBox="0 0 16.1 13.1" fill="CurrentColor">
                    <path
                        d="m7.8 0.1c-4.2 0-7.5 2.6-7.5 5.8 0 1.6 1.2 3.2 2.5 4.3-0.1 1.1-1.8 1.6-2.5 2.3 1.5 0 3.3-0.5 4.3-1.3 0.8 0.2 2.4 0.5 3.3 0.5 4.2 0 7.5-2.6 7.5-5.8s-3.4-5.8-7.6-5.8z" />
                </svg>
                <span class="sr-only">Comment post</span>
            </button>
        </div>
    </div>
    <hr />
</div>